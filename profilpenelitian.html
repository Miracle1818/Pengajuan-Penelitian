<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil Penelitian</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <style>
        .status-icon {
            width: 20px;
            height: 20px;
            margin-right: 5px;
        }
        .status-berhasil {
            color: green;
        }
        .status-gagal {
            color: red;
        }
        .status-proses {
            color: orange;
        }
        table {
            width: 90%;
            margin: 20px auto;
            border-collapse: collapse;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        th, td {
            border: 1px solid #2e9df1;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #26adcf;
            color: rgb(29, 22, 22);
        }
        tr:nth-child(even){background-color: #f2f2f2;}
        tr:hover {background-color: #ddd;}
        
        /* Tambahan style untuk modal */
        .modal-header {
            background-color: #168edf;
            color: white;
        }
        .btn-close {
            background-color: white;
        }
        .toast {
            background-color: #4CAF50;
            color: white;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-light bg-light mb-3 shadow-sm">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img src="C:\Users\ASUS\OneDrive\图片\Saved Pictures\sialog.png" alt="" width="160" height="40" class="d-inline-block align-text-top ms-3">
            </a>
            <button class="btn btn-outline-secondary" id="toggleSidebar">=</button>
        </div>
    </nav>

    <div class="d-flex">
        <div id="sidebar" class="flex-shrink-0 p-3 bg-light" style="width: 250px; position: fixed; top: 56px; left: 0; height: 100vh; overflow-y: auto;">
            <h5 class="text-primary">Sistem Pengajuan Projek Penelitian</h5>
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link active" href="#">Dashboard</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Profil Peneliti</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" data-bs-toggle="collapse" data-bs-target="#proposalSubmenu" aria-expanded="false">Proposal Penelitian</a>
                    <ul class="nav flex-column collapse" id="proposalSubmenu">
                        <li class="nav-item">
                            <a class="nav-link" href="#">Detail Proposal</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Revisi Proposal</a>
                        </li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" data-bs-toggle="collapse" data-bs-target="#adminSubmenu" aria-expanded="false">Administrasi Penelitian</a>
                    <ul class="nav flex-column collapse" id="adminSubmenu">
                        <li class="nav-item">
                            <a class="nav-link" href="#">Pengelolaan Data Penelitian</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Laporan Penelitian</a>
                        </li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Persiapan Penelitian</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Pelaksanaan Penelitian</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Evaluasi Penelitian</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Pengumuman</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Bantuan</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Langkah Langkah pengajuan</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Halaman SSO</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" data-bs-toggle="collapse" data-bs-target="#pengajuanSubmenu" aria-expanded="false">Pengajuan</a>
                    <ul class="nav flex-column collapse" id="pengajuanSubmenu">
                        <li class="nav-item">
                            <a class="nav-link" href="Tb_pegajuan.html">Pengajuan</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="Tb_satus_pengajuan.html">Status Pengajuan</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="revisi.html">Riwayat Pengajuan</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Bantuan Pengajuan</a>
                        </li>
                    </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" data-bs-toggle="collapse" data-bs-target="#statusSubmenu" aria-expanded="false">Melihat Status</a>
                    <ul class="nav flex-column collapse" id="statusSubmenu">
                        <li class="nav-item">
                            <a class="nav-link" href="#">Ditolak</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Diterima</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Notifikasi Status Khusus</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>

        <!-- Konten Utama -->
        <div class="flex-grow-1" style="margin-left: 250px;">
            <!-- Sistem Pengingat -->
            <div class="accordion m-4" id="accordionExample">
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button fw-bold text-dark" style="background-color: #ffcb20;" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            <i class="fas fa-exclamation-triangle" style="color: white;">&ensp;</i>SISTEM PENGINGAT
                        </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#accordionExample">
                        <div class="accordion-body text-secondary">
                            <label>Saat ini tidak ada pengingat yang tersedia.</label>
                            <br><br>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tabel Profil Penelitian -->
            <div class="container mt-4">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <h3>Profil Penelitian</h3>
                    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#tambahProfilModal">
                        <i class="fas fa-plus"></i> Tambah Profil Penelitian
                    </button>
                </div>
                
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>No</th>
                            <th>Judul Penelitian</th>
                            <th>Peneliti</th>
                            <th>Tahun</th>
                            <th>Ringkasan</th>
                            <th>Status</th>
                            <th>Aksi</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>Judul Penelitian 1</td>
                            <td>Dr. A</td>
                            <td>2022</td>
                            <td>Deskripsi singkat dari hasil penelitian 1.</td>
                            <td><i class="fas fa-check-circle status-berhasil"></i></td>
                            <td>
                                <button class="btn btn-sm btn-warning" onclick="editProfil(1)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="hapusProfil(1)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>Judul Penelitian 2</td>
                            <td>Dr. B</td>
                            <td>2023</td>
                            <td>Deskripsi singkat dari hasil penelitian 2.</td>
                            <td><i class="fas fa-times-circle status-gagal"></i></td>
                            <td>
                                <button class="btn btn-sm btn-warning" onclick="editProfil(1)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="hapusProfil(1)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>Judul Penelitian 3</td>
                            <td>Dr. C</td>
                            <td>2023</td>
                            <td>Deskripsi singkat dari hasil penelitian 3.</td>
                            <td><i class="fas fa-hourglass-half status-proses"></i></td>
                            <td>
                                <button class="btn btn-sm btn-warning" onclick="editProfil(1)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="hapusProfil(1)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                        <!-- Data lainnya -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Modal Form Tambah Profil -->
    <div class="modal fade" id="tambahProfilModal" tabindex="-1" aria-labelledby="tambahProfilModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="tambahProfilModalLabel">Tambah Profil Penelitian</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="formTambahProfil">
                        <div class="mb-3">
                            <label for="judulPenelitian" class="form-label">Judul Penelitian</label>
                            <input type="text" class="form-control" id="judulPenelitian" required>
                        </div>
                        <div class="mb-3">
                            <label for="peneliti" class="form-label">Peneliti</label>
                            <input type="text" class="form-control" id="peneliti" required>
                        </div>
                        <div class="mb-3">
                            <label for="tahun" class="form-label">Tahun</label>
                            <input type="number" class="form-control" id="tahun" min="2000" max="2099" required>
                        </div>
                        <div class="mb-3">
                            <label for="ringkasan" class="form-label">Ringkasan</label>
                            <textarea class="form-control" id="ringkasan" rows="3" required></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="status" class="form-label">Status</label>
                            <select class="form-select" id="status" required>
                                <option value="berhasil">Berhasil</option>
                                <option value="proses">Dalam Proses</option>
                                <option value="gagal">Gagal</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                    <button type="button" class="btn btn-primary" onclick="simpanProfil()">Simpan</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notifikasi -->
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
        <div id="notifikasiToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header">
                <strong class="me-auto">Notifikasi</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                Data berhasil ditambahkan!
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function simpanProfil() {
            // Ambil nilai dari form
            const judul = document.getElementById('judulPenelitian').value;
            const peneliti = document.getElementById('peneliti').value;
            const tahun = document.getElementById('tahun').value;
            const ringkasan = document.getElementById('ringkasan').value;
            const status = document.getElementById('status').value;

            if (judul && peneliti && tahun && ringkasan) {
                // Tambahkan baris baru ke tabel
                const tbody = document.querySelector('table tbody');
                const rowCount = tbody.rows.length;
                const newRow = tbody.insertRow();
                
                let statusIcon;
                switch(status) {
                    case 'berhasil':
                        statusIcon = '<i class="fas fa-check-circle status-berhasil"></i>';
                        break;
                    case 'gagal':
                        statusIcon = '<i class="fas fa-times-circle status-gagal"></i>';
                        break;
                    case 'proses':
                        statusIcon = '<i class="fas fa-hourglass-half status-proses"></i>';
                        break;
                }

                newRow.innerHTML = `
                    <td>${rowCount + 1}</td>
                    <td>${judul}</td>
                    <td>${peneliti}</td>
                    <td>${tahun}</td>
                    <td>${ringkasan}</td>
                    <td>${statusIcon}</td>
                    <td>
                        <button class="btn btn-sm btn-warning" onclick="editProfil(${rowCount + 1})"><i class="fas fa-edit"></i></button>
                        <button class="btn btn-sm btn-danger" onclick="hapusProfil(${rowCount + 1})"><i class="fas fa-trash"></i></button>
                    </td>
                `;

                // Tutup modal
                const modal = bootstrap.Modal.getInstance(document.getElementById('tambahProfilModal'));
                modal.hide();

                // Reset form
                document.getElementById('formTambahProfil').reset();

                // Tampilkan notifikasi
                const toast = new bootstrap.Toast(document.getElementById('notifikasiToast'));
                toast.show();
            }
        }

        function editProfil(id) {
            // Implementasi fungsi edit
            alert('Edit profil dengan ID: ' + id);
        }

        function hapusProfil(id) {
            if (confirm('Apakah Anda yakin ingin menghapus data ini?')) {
                // Implementasi fungsi hapus
                alert('Hapus profil dengan ID: ' + id);
            }
        }

        // Toggle sidebar
        document.getElementById('toggleSidebar').addEventListener('click', function() {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.querySelector('.flex-grow-1');
            
            if (sidebar.style.display === 'none') {
                sidebar.style.display = 'block';
                mainContent.style.marginLeft = '250px';
            } else {
                sidebar.style.display = 'none';
                mainContent.style.marginLeft = '0';
            }
        });
    </script>
</body>
</html>